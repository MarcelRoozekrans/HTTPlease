language: csharp
mono:
  - beta
sudo: required
dist: trusty
env:
  - HTTPLEASE_BUILD_VERSION="alpha1"
addons:
  apt:
    packages:
    - libunwind8
install:
  - uname -a
  - curl -sSL https://raw.githubusercontent.com/aspnet/Home/dev/dnvminstall.sh | sh
  - source ~/.dnx/dnvm/dnvm.sh
  - dnvm install 1.0.0-rc1-update2 -r coreclr -arch x64
script:
  - ./restore-packages.sh
  - ./build-all.sh
  - ./run-tests.sh
  - ./package-all.ps1
branches:
  only:
    - development/r1.0
    - release/r1.0
